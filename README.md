# 室内环境远程检测系统
## 功能
* 接收ESP8266发送过来的json格式的数据
* 处理接收到的数据并将其插入数据库
* 查询数据库，生成一个文本文件
* 响应ajax请求
## 技术栈
* Node
* ECharts
* jQuery
* Bootstrap
* MongoDB
## 实现
使用Node搭建一个TCP服务器，监听请求，可以使用net模块。

因为接收到的数据是JSON格式的字符串，所以经过简单处理就可以插入数据库。在每一条插入数据库的文档添加一个date属性，表示文档插入数据库的时间，这个属性方便后续查询数据库，以及对文档进行后续处理。

如果集合中的数据很多，这时候就需要用到条件查询，这时候之前添加的date属性就可以作为key来查询数据库，查询后返回一个数组，使用pop方法即可得到一个最新文档，然后将这条文档写入一个文本文件中。

前端使用使用ajax请求即可得到最新文档，可以使用jQuery更方便的进行ajax请求。参考ECharts官方本，异步加载和数据更新，即可完成前端页面。